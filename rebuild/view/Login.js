Login = {
    template: `
<div class="login flex_content_center bw100">
    <div class="flex login_con">
        <div class="flex1 flex_content_center login_left">
            <svg 
             xmlns="http://www.w3.org/2000/svg"
             xmlns:xlink="http://www.w3.org/1999/xlink"
             width="512px" height="512px">
            <defs>
            <linearGradient id="PSgrad_0" x1="0%" x2="100%" y1="0%" y2="0%">
              <stop offset="0%" stop-color="rgb(59,47,209)" stop-opacity="1" />
              <stop offset="100%" stop-color="rgb(81,97,218)" stop-opacity="1" />
            </linearGradient>
            
            </defs>
            <path fill-rule="evenodd"  fill="rgb(33, 43, 93)"
             d="M378.000,131.000 C344.912,131.000 342.357,145.000 316.000,145.000 C274.577,145.000 280.978,100.607 239.000,73.000 C195.889,44.648 138.514,34.392 93.000,93.000 C67.143,127.110 77.330,164.404 77.000,182.000 C76.670,199.596 79.876,211.220 74.000,222.000 C68.124,232.780 49.000,251.222 49.000,309.000 C49.000,366.778 116.743,462.000 247.000,462.000 C377.257,462.000 462.000,382.947 462.000,268.000 C462.000,153.053 402.316,132.835 378.000,131.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(30, 18, 92)"
             d="M333.000,197.000 L373.000,197.000 C374.105,197.000 375.000,197.895 375.000,199.000 L375.000,212.000 C375.000,213.105 374.105,214.000 373.000,214.000 L333.000,214.000 C331.895,214.000 331.000,213.105 331.000,212.000 L331.000,199.000 C331.000,197.895 331.895,197.000 333.000,197.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(247, 165, 57)"
             d="M323.000,218.000 L373.000,218.000 C374.105,218.000 375.000,218.895 375.000,220.000 L375.000,233.000 C375.000,234.105 374.105,235.000 373.000,235.000 L323.000,235.000 C321.895,235.000 321.000,234.105 321.000,233.000 L321.000,220.000 C321.000,218.895 321.895,218.000 323.000,218.000 Z"/>
            <path fill-rule="evenodd"  fill="url(#PSgrad_0)"
             d="M322.000,239.000 L373.000,239.000 C374.105,239.000 375.000,239.895 375.000,241.000 L375.000,259.000 C375.000,260.105 374.105,261.000 373.000,261.000 L322.000,261.000 C320.895,261.000 320.000,260.105 320.000,259.000 L320.000,241.000 C320.000,239.895 320.895,239.000 322.000,239.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(141, 132, 251)"
             d="M377.000,288.000 L368.000,288.000 L368.000,403.000 C368.000,404.105 367.105,405.000 366.000,405.000 L356.000,405.000 C354.895,405.000 354.000,404.105 354.000,403.000 L354.000,288.000 L240.000,288.000 L240.000,405.000 L228.000,405.000 C226.895,405.000 226.000,404.105 226.000,403.000 L226.000,288.000 L218.000,288.000 C216.895,288.000 216.000,287.105 216.000,286.000 L216.000,268.000 C216.000,266.895 216.895,266.000 218.000,266.000 L377.000,266.000 C378.105,266.000 379.000,266.895 379.000,268.000 L379.000,286.000 C379.000,287.105 378.105,288.000 377.000,288.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(30, 18, 92)"
             d="M243.000,121.000 C243.000,121.000 243.069,122.675 233.000,116.000 C222.931,109.325 192.699,104.543 179.000,121.000 C172.774,128.479 175.278,132.541 175.000,134.000 C174.154,135.378 168.959,148.423 183.000,160.000 C179.186,165.490 183.782,172.203 185.000,174.000 C184.027,175.797 180.055,187.593 181.000,189.000 C178.212,187.891 170.855,187.506 168.000,192.000 C152.399,204.134 134.657,239.282 126.000,288.000 C121.710,293.078 119.688,314.420 122.317,324.023 C122.772,325.033 123.340,326.000 124.014,326.000 C134.135,326.000 216.585,326.000 217.000,326.000 C218.406,326.000 220.000,325.468 220.000,324.000 C220.000,318.383 221.000,303.000 221.000,303.000 L209.000,294.000 C209.000,294.000 214.548,272.671 213.000,255.000 C213.000,255.000 225.532,263.000 240.000,263.000 C254.468,263.000 275.000,260.524 275.000,223.000 C275.000,223.000 280.000,220.381 280.000,199.000 C280.000,199.000 278.916,193.000 269.000,193.000 C262.717,193.000 258.000,197.891 258.000,199.000 C258.000,200.109 254.622,219.634 262.000,222.000 C262.000,222.000 262.549,243.000 248.000,243.000 C241.111,243.000 225.135,227.177 207.000,216.000 C207.000,216.000 203.520,197.147 195.000,193.000 C196.104,189.638 196.387,185.200 196.000,183.000 C196.000,183.000 216.683,186.128 217.000,167.000 C217.000,167.000 221.000,151.431 221.000,145.000 C221.000,140.443 219.074,137.386 217.000,136.000 C217.000,136.000 243.000,143.928 243.000,121.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(252, 191, 206)"
             d="M181.000,189.000 C180.685,188.875 180.305,188.761 179.887,188.660 L180.000,189.000 L195.000,193.000 L195.000,193.000 C195.000,193.000 195.000,193.000 195.000,193.000 C195.966,190.060 196.303,186.298 196.114,183.928 C189.793,183.199 185.000,175.000 185.000,175.000 L184.553,175.000 C183.174,178.389 180.163,187.755 181.000,189.000 ZM188.000,163.000 C190.498,163.000 189.969,163.713 192.000,167.000 C194.031,170.287 196.266,168.410 200.000,166.000 C210.541,160.086 215.349,164.056 217.128,166.493 C217.807,163.785 221.000,150.748 221.000,145.000 C221.000,141.254 219.693,138.541 218.078,136.917 C217.113,136.430 216.586,136.081 216.468,136.066 C205.512,134.738 192.000,132.000 192.000,132.000 C192.000,132.000 185.502,163.000 188.000,163.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(247, 165, 57)"
             d="M171.000,307.000 C197.538,307.000 202.443,295.090 209.102,294.076 L209.000,294.000 C209.000,294.000 214.548,272.671 213.000,255.000 C213.000,255.000 225.532,263.000 240.000,263.000 C254.468,263.000 275.000,260.524 275.000,223.000 C275.000,223.000 280.000,220.381 280.000,199.000 C280.000,199.000 278.916,193.000 269.000,193.000 C262.717,193.000 258.000,197.891 258.000,199.000 C258.000,200.109 254.622,219.634 262.000,222.000 C262.000,222.000 262.549,243.000 248.000,243.000 C241.111,243.000 225.135,227.177 207.000,216.000 C207.000,216.000 203.520,196.147 195.000,192.000 L181.000,188.000 L180.887,187.660 C177.601,186.868 170.532,188.014 168.000,192.000 C152.399,204.134 134.657,239.282 126.000,288.000 C126.000,288.000 148.965,307.000 171.000,307.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(5, 16, 61)"
             d="M185.000,175.000 C185.000,175.000 190.244,183.000 197.000,183.000 C198.504,183.000 200.379,183.000 202.385,183.000 C208.490,182.277 216.800,179.072 217.000,167.000 C217.000,167.000 217.051,166.799 217.128,166.493 C215.349,164.056 210.541,160.087 200.000,166.000 C196.266,168.410 194.031,170.287 192.000,167.000 C189.969,163.713 190.498,163.000 188.000,163.000 C185.502,163.000 192.000,132.000 192.000,132.000 C192.000,132.000 205.512,134.738 216.468,136.066 C216.586,136.081 217.113,136.430 218.078,136.917 C217.728,136.565 217.369,136.247 217.000,136.000 C217.000,136.000 243.000,143.928 243.000,121.000 C243.000,121.000 243.069,122.675 233.000,116.000 C222.931,109.325 192.699,104.543 179.000,121.000 C172.774,128.479 175.278,132.541 175.000,134.000 C174.154,135.378 168.959,148.423 183.000,160.000 C179.186,165.490 183.782,172.203 185.000,174.000 C184.888,174.207 184.733,174.559 184.553,175.000 L185.000,175.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(7, 27, 88)"
             d="M117.000,338.000 L219.000,338.000 C220.105,338.000 221.000,338.895 221.000,340.000 L221.000,403.000 C221.000,404.105 220.105,405.000 219.000,405.000 L145.000,405.000 C128.431,405.000 115.000,391.569 115.000,375.000 L115.000,340.000 C115.000,338.895 115.895,338.000 117.000,338.000 Z"/>
            <path fill-rule="evenodd"  fill="rgb(30, 18, 92)"
             d="M245.000,376.479 L251.343,396.390 C253.385,402.799 261.043,406.082 268.448,403.723 C275.853,401.364 280.201,394.256 278.159,387.847 L254.216,312.691 C252.916,308.611 249.337,305.806 245.000,304.909 L245.000,376.479 Z"/>
            </svg>
        </div>
        <div class="flex1 flex_content_center login_right">
            <div class="bw100 form">
                
                <template v-if="isOneLogin">
                    <!--一键登录-->
                    <div class="g_img block_center g_wid80_ah g_radius_all">
                        <img :src="userInfo.icon" alt="">
                    </div>
                    <p class="text_center g_mar20t g_text2_color">{{userInfo.username}}</p>
                </template>
                <template v-else>
                    <div class="g_img g_wid50_ah block_center">
                       <svg 
                         xmlns="http://www.w3.org/2000/svg"
                         xmlns:xlink="http://www.w3.org/1999/xlink"
                         width="50px" height="50px">
                        <path fill-rule="evenodd"  fill="rgb(214, 200, 255)"
                         d="M38.000,12.000 L45.000,12.000 C47.761,12.000 50.000,14.239 50.000,17.000 L50.000,45.000 C50.000,47.761 47.761,50.000 45.000,50.000 L38.000,50.000 L38.000,12.000 Z"/>
                        <path fill-rule="evenodd"  fill="rgb(149, 123, 255)"
                         d="M5.000,0.000 L33.000,0.000 C35.761,0.000 38.000,2.239 38.000,5.000 L38.000,50.000 L5.000,50.000 C2.239,50.000 -0.000,47.761 -0.000,45.000 L-0.000,5.000 C-0.000,2.239 2.239,0.000 5.000,0.000 Z"/>
                        <path fill-rule="evenodd"  fill="rgb(237, 231, 255)"
                         d="M12.000,15.000 L26.000,15.000 C27.657,15.000 29.000,16.343 29.000,18.000 C29.000,19.657 27.657,21.000 26.000,21.000 L12.000,21.000 C10.343,21.000 9.000,19.657 9.000,18.000 C9.000,16.343 10.343,15.000 12.000,15.000 Z"/>
                        <path fill-rule="evenodd"  fill="rgb(237, 231, 255)"
                         d="M12.000,28.000 L26.000,28.000 C27.657,28.000 29.000,29.343 29.000,31.000 C29.000,32.657 27.657,34.000 26.000,34.000 L12.000,34.000 C10.343,34.000 9.000,32.657 9.000,31.000 C9.000,29.343 10.343,28.000 12.000,28.000 Z"/>
                        </svg>
                    </div>
                    <p class="g_h18 g_desc_color text_center g_pad20t g_mar40b">
                        欢迎登陆狼牙工作助手
                    </p>
                    <div class="input_item">
                        <input class="bw100 g_pad12tb" autocomplete="new-password" v-model="form.userName" type="text" placeholder="账号">
                        <i class="g_transition"></i>
                    </div>
                    <div class="g_mar20t  input_item">
                        <input class="bw100 g_pad12tb" autocomplete="new-password" v-model="form.userpassword" type="password" placeholder="密码">
                        <i class="g_transition"></i>
                    </div>
                    <div class="flex_center g_mar20t">
                       <p class="flex1 g_desc_color g_h14">自动登录</p>
                       <el-switch class="login_save_account" :class="{login_save_account_checked:saveAccount}" v-model="saveAccount" active-color="#13ce66" inactive-color="#e5e5e5"></el-switch>
                    </div>
                </template>
                
                <div class="block_center g_wid50_ah g_mar60t" @click="login">
                    <loading v-if="loading"></loading>
                    <svg 
                     v-else
                     xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink"
                     width="50px" height="50px">
                    <path fill-rule="evenodd"  fill="rgb(247, 188, 93)"
                     d="M25.000,0.000 C38.807,0.000 50.000,11.193 50.000,25.000 C50.000,38.807 38.807,50.000 25.000,50.000 C11.193,50.000 0.000,38.807 0.000,25.000 C0.000,11.193 11.193,0.000 25.000,0.000 Z"/>
                    <path fill-rule="evenodd"  fill="rgb(55, 34, 0)"
                     d="M32.989,25.554 C32.995,25.961 32.848,26.370 32.537,26.681 L26.656,32.562 C26.047,33.172 25.060,33.172 24.451,32.562 C23.842,31.953 23.842,30.966 24.451,30.357 L27.807,27.000 L18.500,27.000 C17.672,27.000 17.000,26.328 17.000,25.500 C17.000,24.672 17.672,24.000 18.500,24.000 L27.807,24.000 L24.451,20.643 C23.842,20.034 23.842,19.047 24.451,18.438 C25.060,17.828 26.047,17.828 26.656,18.438 L32.537,24.319 C32.848,24.630 32.995,25.039 32.989,25.446 C32.990,25.465 33.000,25.481 33.000,25.500 C33.000,25.519 32.990,25.535 32.989,25.554 Z"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>
`,
    data() {
        return {
            form:{
                userName:"",
                userpassword:""
            },
            saveAccount:false,
            loading:false,
            isOneLogin:false,
            userInfo:{}
        };
    },
    created(){
        let account=cache('account')
        let userInfo=cache('userInfo')
        if(account){
            this.form=account
            //是否有用户名
            if(userInfo&&userInfo.username){
                this.isOneLogin=true
                this.userInfo=userInfo
            }

        }
    },
    methods:{
        login(){
            let rules= {
                userName: [
                    { required: true, message: '请输入活动名称' },
                    { min: 3, max: 5, message: '长度在 3 到 5 个字符'}
                ],
                userpassword: [
                    { required: true, message: '请输入活动名称'},
                ],
            }

            login(this.form,'loading',this).then(res=>{
                if(this.saveAccount){
                    cache('saveAccount',this.saveAccount)
                }
                if(res.msgcode==0){
                    //登录成功
                    //保存用户名和密码
                    cache('account',JSON.stringify(this.form))
                    this.$root.init()
                    this.$router.replace('/write')

                }
                this.$message(res.msg)
            })
        }
    }
}